###### 뱀 게임

##### 플레이 장면
![snakegame](https://github.com/user-attachments/assets/48bf7e39-2f7c-4298-b6bd-4cd04d267937)

##### 3. 코드 상세 분석

##### * 키 입력 코드
```python
keys = pygame.key.get_pressed()
if keys[pygame.K_UP] and snake_dir != (0, block_size):
        snake_dir = (0, -block_size)
    if keys[pygame.K_DOWN] and snake_dir != (0, -block_size):
        snake_dir = (0, block_size)
    if keys[pygame.K_LEFT] and snake_dir != (block_size, 0):
        snake_dir = (-block_size, 0)
    if keys[pygame.K_RIGHT] and snake_dir != (-block_size, 0):
        snake_dir = (block_size, 0)
```
###### pygame.key.get_pressed()는 키가 눌린 상태를 지속적으로 확인해, 키를 누르고 있는 동안 반복적인 동작을 수행한다. 키 입력이 한 번만 처리 되길 원한하면 pygame.KEYDOWN 이벤트를 사용하는 것이 적합하지만 뱀 게임의 특성상 키가 눌린 상태를 지속하는 경우가 많기 때문에pygame.key.get_pressed()를 쓴다. 
###### 첫 번째 조건문을 대표로 보면 ' up 키를 눌렀을 때 and 뱀이 현재 아래로 이동 중이 아닐 때' 위로 이동한다.

##### * 뱀 이동
```python
new_head = (snake[0][0] + snake_dir[0], snake[0][1] + snake_dir[1])
    snake.insert(0, new_head)
```
> new_head = ( 현재 머리의 x 좌표 + 이동 방향의 x 좌표, 현재 머리의 y 좌표 + 이동 방향의 y 좌표)

###### 예를 들어 현재 의치가 (5,10)이고 이동방향이 (1,0)이라면 계산 결과 new_head인 (6,10)이 snake 리스트의 맨 앞에 추가된다. 이로 인해 뱀의 머리가 새로운 좌표로 이동한 것처럼 보인다. 
###### ( ex) snake = [(100, 100), (80, 100), (60, 100)] 첫 번째 요소는 머리, 마지막 요소는 꼬리 )

##### * 음식 먹기 (미완성)
```python
    if snake[0] == food:
        food = (random.randrange(0, WIDTH, block_size), random.randrange(0, HEIGHT, block_size))
    else:
        snake.pop()
```
###### randrange()는 python의 random 모듈에 포함된 함수로, 지정한 범위에서 무작위 정수를 반환하고, 주로 다양한 시뮬레이션, 게임 개발 등에 활용된다. 
###### 이 부분은 뱀이 음식 위치와 겹치는지 확인하고, 겹친다면 새로운 음식 위치를 무작위로 생성하고 

##### * 충돌 처리
```python
if (snake[0][0] < 0 or snake[0][0] >= WIDTH //뱀이 왼쪽 벽 또는 오른쪽 벽에 충돌하면 or
            snake[0][1] < 0 or snake[0][1] >= HEIGHT //뱀이 위쪽 벽 또는 아래쪽 벽에 충돌 or
            snake[0] in snake[1:]): //뱀이 자기 자신과 충돌했을 때
        print("Game Over")
        pygame.quit()
        sys.exit()
```
###### 위와 같은 조건에 충족됬을 때 메시지가 출력된다. 
###### pygame.quit()는 pygame을 종료하기 위한 필수 함수이다.
###### 그리고 sys.exit()으로 프로그램을 완전히 종료시킨킨다.
##### * 그리기
```python
for segment in snake:
        pygame.draw.rect(screen, GREEN, (*segment, block_size, block_size))
```
###### 이 부분은 뱀의 형체를 그리는 코드다. pygame.draw.rect()는 화면에 사각형을 그리는 함수이다. screen은 함수를 그릴 대상이고, 뱀의 색깔을 초록색으로 한다는 뜻이다. (*segment, block_size, block_size)는 몸 부위 좌표와 크기를 나타낸다. 
```python
pygame.draw.rect(screen, RED, (*food, block_size, block_size))
```
###### 이 부분은 음식의 형체를 그리는 코드다. 자세한 설명은 위와 같다.

##### * 화면 갱신
```python
pygame.display.flip()
```
###### 화면에 그린 모든 내용을 갱신하여 사용자에게 보여준다. Pygame에서는 화면을 계속해서 버퍼에 그린 후 한 번에 갱신하는 방식으로 작동한다. 이 함수는 화면에 렌더링된 모든 내용을 업데이트하는 역할을 한다.

##### * 게임 속도 제어
```python
clock.tick(10)
```
###### clock.tick()은 게임 루프가 얼마나 자주 실행될지 프레임 레이트(fps)를 설정하는 함수이다. 인수 10은 초당 10프레임으로 게임을 실행하라는 뜻이다. 즉 게임 루프가 초당 10번 실행된다. 이는 게임의 속도를 제어하는 중요한 함수로 게임의 속도가 너무 빠르거나 느리지 않도록 일정한 속도를 유지할 수 있게 해준다.
